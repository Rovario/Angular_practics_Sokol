<div class="details-container">
  <!-- –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è -->
  <div *ngIf="loading" class="loading">
    <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>
  </div>

  <!-- –î–µ—Ç–∞–ª—ñ –∫–Ω–∏–≥–∏ -->
  <div *ngIf="!loading && book" class="book-details">
    <!-- –ö–Ω–æ–ø–∫–∞ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è -->
    <button (click)="goBack()" class="back-btn">
      ‚Üê –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ —Å–ø–∏—Å–∫—É
    </button>

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º custom pipe -->
    <h1>{{ book.title | titleCase }}</h1>

    <!-- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω—ñ –∫–∞—Ä—Ç–∫–∏ -->
    <div class="info-grid">
      
      <!-- –ê–≤—Ç–æ—Ä -->
      <div class="info-card">
        <div class="info-label">üë§ –ê–≤—Ç–æ—Ä</div>
        <div class="info-value">{{ book.author }}</div>
      </div>

      <!-- –¶—ñ–Ω–∞ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º ngClass —Ç–∞ currency pipe -->
      <div class="info-card" [ngClass]="getPriceClass()">
        <div class="info-label">üí∞ –¶—ñ–Ω–∞</div>
        <div class="info-value">
          {{ book.price | currency:'UAH':'symbol':'1.0-0' }}
        </div>
        <div class="price-status">{{ getPriceStatus() }}</div>
      </div>

      <!-- –î–∞—Ç–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º date pipe -->
      <div class="info-card">
        <div class="info-label">üìÖ –î–∞—Ç–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó</div>
        <div class="info-value">{{ book.publishedDate | date:'dd MMMM yyyy':'':'uk' }}</div>
        <div class="additional-info">{{ book.publishedDate | date:'EEEE':'':'uk' }}</div>
      </div>

      <!-- ID –∫–Ω–∏–≥–∏ -->
      <div class="info-card">
        <div class="info-label">üî¢ ID –∫–Ω–∏–≥–∏</div>
        <div class="info-value">#{{ book.id }}</div>
      </div>
    </div>

    <!-- –û–ø–∏—Å –∫–Ω–∏–≥–∏ -->
    <div *ngIf="book.description" class="description-section">
      <h3>üìñ –û–ø–∏—Å</h3>
      <p>{{ book.description }}</p>
    </div>

    <!-- –î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º ngStyle -->
    <div class="additional-section">
      <h3>üìä –î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h3>
      <div class="stats-grid">
        <div 
          class="stat-item"
          [ngStyle]="{
            'background-color': book.price > 500 ? '#fff3cd' : '#d4edda',
            'border-left': book.price > 500 ? '4px solid #ffc107' : '4px solid #28a745'
          }"
        >
          <strong>–¶—ñ–Ω–æ–≤–∏–π –¥—ñ–∞–ø–∞–∑–æ–Ω:</strong>
          <span *ngIf="book.price > 500">–ü—Ä–µ–º—ñ—É–º</span>
          <span *ngIf="book.price <= 500">–°—Ç–∞–Ω–¥–∞—Ä—Ç</span>
        </div>

        <div class="stat-item">
          <strong>–î–æ–≤–∂–∏–Ω–∞ –Ω–∞–∑–≤–∏:</strong>
          {{ book.title.length }} —Å–∏–º–≤–æ–ª—ñ–≤
        </div>

        <div class="stat-item">
          <strong>–ù–∞–∑–≤–∞ UPPERCASE:</strong>
          {{ book.title | uppercase }}
        </div>

        <div class="stat-item">
          <strong>–ù–∞–∑–≤–∞ lowercase:</strong>
          {{ book.title | lowercase }}
        </div>
      </div>
    </div>

    <!-- JSON –¥–∞–º–ø (–¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó json pipe) -->
    <div class="json-section">
      <h3>üîç –î–∞–Ω—ñ —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON</h3>
      <pre>{{ book | json }}</pre>
    </div>
  </div>

  <!-- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∫–Ω–∏–≥–∏ -->
  <div *ngIf="!loading && !book" class="not-found">
    <h2>üòî –ö–Ω–∏–≥—É –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</h2>
    <a routerLink="/list" class="home-link">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ —Å–ø–∏—Å–∫—É</a>
  </div>
</div>